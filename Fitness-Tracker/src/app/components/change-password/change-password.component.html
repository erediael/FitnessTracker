<div class="d-flex flex-column justify-content-center align-items-center w-50 h-100 m-auto">
    <div>
        <h3>Change Password</h3>
    </div>

    <form class="d-flex flex-column justify-content-center align-items-center w-75" [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">

        <div class="input-group mb-3 w-100">
            <input type="password" [ngClass]="{'is-invalid': oldPassword.touched && oldPassword.invalid}" class="form-control" placeholder="Old Password" formControlName="oldPassword">

            <div class="alert alert-danger mt-3 w-100" *ngIf="oldPassword.touched && oldPassword.invalid">
                <div *ngIf="oldPassword.errors.required">Password is required!</div>
            </div>
        </div>

        <div class="input-group mb-3 w-100">
            <input type="password" [ngClass]="{'is-invalid': newPassword.touched && newPassword.invalid}" class="form-control" placeholder="New Password" formControlName="newPassword">

            <div class="alert alert-danger mt-3 w-100" *ngIf="newPassword.touched && newPassword.invalid">
                <div *ngIf="newPassword.errors.required">Password is required!</div>
                <div *ngIf="newPassword.errors.pattern">Password should be between 8 and 32 characters and contain at least 1 upper case letter, 1 lower case letter, 1 number and 1 special symbol!</div>
            </div>
        </div>

        <div class="input-group mb-3 w-100">
            <input type="password" [ngClass]="{'is-invalid': confirmedPassword.touched && confirmedPassword.invalid}" class="form-control" placeholder="Confirm New Password" formControlName="confirmedPassword">

            <div class="alert alert-danger mt-3 w-100" *ngIf="confirmedPassword.touched && confirmedPassword.invalid">
                <div *ngIf="confirmedPassword.errors.required">Password is required!</div>
                <div *ngIf="confirmedPassword.errors.notEqual">Should match the new password</div>
            </div>
        </div>

        <div class="alert alert-danger mb-3 w-100" *ngIf="errorMessage != null">
            {{errorMessage}}
        </div>

        <div class="form-group">
            <button [disabled]="loading || !changePasswordForm.valid" class="btn btn-primary">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Change Password
            </button>
        </div>
    </form>
</div>